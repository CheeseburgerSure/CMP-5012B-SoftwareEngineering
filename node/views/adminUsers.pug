doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    title Admin Users | ParkFlow
    link(rel="icon" href="/logo.png")
    link(rel="stylesheet" href="/styles.css")
    link(rel="stylesheet" href="/bootstrap.css")
    link(rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css")

  body
    // Navbar
    nav.navbar.navbar-expand-lg.navbar-dark.bg-nav 
      .container.px-5 
        img.img-thumbnail.m-sm-3.w-5(src="/logo.png" alt="Park Flow Logo")
        a.navbar-brand(href="/dashboard") Parkflow
        button.navbar-toggler(type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation")
          span.navbar-toggler-icon
        .collapse.navbar-collapse#navbarResponsive 
          ul.navbar-nav.ms-auto.mb-2.mb-lg-0 
            li.nav-item: a.nav-link(href="/dashboard") Dashboard
            li.nav-item: a.nav-link(href="/admin") Admin Panel
            li.nav-item: a.nav-link(href="/logout") Logout

    // Page Content
    .container.mt-5
      h1.mb-4.text-center Admin - Users

      // Search Bar
      form(method="GET" action="/admin/users/search" class="row mb-4 justify-content-center")
        .col-md-6
          input.form-control(type="text", name="q", placeholder="Search by Email or User ID")
        .col-md-2
          button.btn.btn-primary.w-100(type="submit") Search

      // User Table
      .table-responsive
        table.table.table-striped.table-hover
          thead.table-dark
            tr
              th User ID
              th Name
              th Email
              th Role
              th Status
              th Balance (Â£)
              th Actions
          tbody
            if users.length
              each user in users
                tr
                  td= user.id
                  td= user.name
                  td= user.email
                  td.text-capitalize= user.role
                  td= user.status
                  td= user.balance
                  td
                    a.btn.btn-sm.btn-outline-primary(href=`/admin/users/${user.id}/edit`)
                      i.fas.fa-edit
                      |  Edit
            else
              tr
                td(colspan="7").
                 No users found.


    // Footer
    footer.py-5.bg-nav
      .container.px-5 
        p.m-0.text-center.text-white Copyright &copy; 2025 ParkFlow. All Rights Reserved.

    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js")
